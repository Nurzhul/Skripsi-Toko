<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hz Tani</title>
    <link rel="icon" type="image/png" href="../images/log.png" />
    <link rel="stylesheet" href="/css/photo.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;700&display=swap"
      rel="stylesheet"
    />
    <!-- feather icons -->
    <script src="https://unpkg.com/feather-icons"></script>
  </head>
  <body>
    <!-- profile mulai -->
    <form
      class="photo-form"
      action="/profile/saveAvatar"
      method="post"
      enctype="multipart/form-data"
    >
      <div class="profile-container">
        <div class="profile">
          {{ if .error }}
          <div class="error-message" style="color: red">
            <i data-feather="alert-circle"></i> {{ .error }}
          </div>
          {{ end }}
          <input
            type="file"
            id="profileImageInput"
            name="image"
            accept="image/*"
          />
          <div
            class="profile-picture-wrapper"
            onclick="document.getElementById('profileImageInput').click()"
          >
            <img
              src="{{ .avatar }}"
              alt="User"
              alt="Profile Picture"
              class="profile-picture"
              id="profilePicture"
            />
            <div class="upload-overlay">
              <span>Ubah Foto</span>
            </div>
          </div>
          <button type="submit" class="daftar-btn">Save</button>
        </div>
      </div>
    </form>

    <!-- profile selesai -->
  </body>

  <script>
    document
      .getElementById("profileImageInput")
      .addEventListener("change", function (event) {
        const file = event.target.files[0];
        if (file) {
          const preview = document.getElementById("profilePicture");
          preview.src = URL.createObjectURL(file);
        }
      });
  </script>
  <!-- feather icons  -->
  <script>
    feather.replace();
  </script>
  <!-- javscript -->
  <script src="/js/indexScrip.js"></script>
</html>
